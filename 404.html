<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Parse the URL
        const url = window.location.href;
        const path = window.location.pathname;
        
        // Check if this is a QR code for joining an event
        if (url.includes('join=')) {
            // Extract the join code
            const joinParam = url.split('join=')[1].split('&')[0];
            console.log('QR code join detected:', joinParam);
            
            // Redirect to the project path with the join parameter (slido.com style)
            window.location.replace(`https://anutri03.github.io/project?join=${joinParam}`);
        } 
        // Check if this is a QR code for a poll
        else if (url.includes('poll=') && url.includes('event=')) {
            // Extract the poll ID and event code
            const pollId = url.split('poll=')[1].split('&')[0];
            const eventParam = url.split('event=')[1].split('&')[0];
            console.log('QR code poll detected:', pollId, eventParam);
            
            // Redirect to the project path with poll parameters
            window.location.replace(`https://anutri03.github.io/project?poll=${pollId}&event=${eventParam}`);
        }
        // Check if we're at the root level 404
        else if (path === '/404.html') {
            window.location.replace('https://anutri03.github.io');
        }
        // Otherwise try to redirect within the site
        else {
            // Remove any potential project prefix
            const cleanPath = path.replace(/^\/project\//, '/');
            window.location.replace(`https://anutri03.github.io${cleanPath}`);
        }
    </script>
</head>
<body>
    <h1>Redirecting to Slido Clone...</h1>
    <p>If you are not redirected automatically, <a href="https://anutri03.github.io/">click here</a>.</p>
</body>
</html> 